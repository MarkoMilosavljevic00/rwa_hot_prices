<mat-sidenav-container class="page">
  <mat-sidenav [opened]="true" #filterSidenav>
    <app-offer-filter
      [sidenavControl]="filterSidenav"
      *ngIf="postType === PostType.Offer"
    ></app-offer-filter>
  </mat-sidenav>
  <mat-sidenav-content>
    <section class="padding">
      <nav mat-tab-nav-bar [tabPanel]="tabPanel" color="warn">
        <a
          mat-tab-link
          [routerLink]="['offers']"
          routerLinkActive
          #rla1="routerLinkActive"
          [active]="rla1.isActive"
          >Offers</a
        >
        <a
          mat-tab-link
          [routerLink]="['conversations']"
          routerLinkActive
          #rla2="routerLinkActive"
          [active]="rla2.isActive"
          >Conversations</a
        >
        <a
          mat-tab-link
          [routerLink]="['coupons']"
          routerLinkActive
          #rla3="routerLinkActive"
          [active]="rla3.isActive"
          >Coupons</a
        >
      </nav>
      <mat-tab-nav-panel #tabPanel>
        <div fxLayout="column">
          <div fxFlex fxLayoutAlign="center center">
            <button
              class="add-new-button"
              mat-button
              color="warn"
              fxFlex.gt-xs="30%"
              fxFlex.lt-sm="70%"
              (click)="onAddNew()"
            >
              <mat-icon fxLayoutAlign="center center" class="add-new-icon"
                >add_circle</mat-icon
              >
              <span>Add New {{ postType }}</span>
            </button>
          </div>
          <mat-toolbar color="warn" fxLayoutAlign="start end" class="padding">
            <form
              class="example-form"
              fxFlex="100%"
              fxLayoutGap="5%"
              fxLayoutAlign="start center"
            >
              <mat-form-field fxFlex="70%">
                <mat-label>Search</mat-label>
                <input
                  (ngModelChange)="onSearch($event)"
                  [matAutocomplete]="searchAutocomplete"
                  [formControl]="searchControl"
                  type="text"
                  matInput
                />
                <mat-autocomplete
                  #searchAutocomplete="matAutocomplete"
                >
                  <mat-option
                    *ngFor="let option of filteredTitlesOptions"
                    [value]="option"
                  >
                    {{ option }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <button
                class="filter-button"
                mat-raised-button
                fxFlex="30%"
                (click)="filterSidenav.toggle()"
              >
                Filter
              </button>
            </form>
          </mat-toolbar>
          <router-outlet></router-outlet>
        </div>
      </mat-tab-nav-panel>
    </section>
  </mat-sidenav-content>
</mat-sidenav-container>
